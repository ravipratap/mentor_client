<!--
  Generated template for the ManageAdminsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header> 
  <ion-navbar>
    <!-- <ion-buttons start left>
      <button ion-button icon-only navPop >
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons> -->
    <ion-title> Set {{program? 'Program': 'Site'}} Admins</ion-title>
    <p *ngIf="site">{{site.profile.company}}</p>

    
    <ion-buttons end right>
        <button ion-button icon-only (click)="save()">
            <ion-icon name="checkmark"></ion-icon>
        </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <div *ngIf="adminForm">
    <form [formGroup]="adminForm" novalidate >
        <ion-grid nopadding >
          <ion-row >
            <ion-col col-lg-8 col-xl-8 offset-lg-2 offset-xl-2 formArrayName="adminContacts">
              <ion-item *ngFor="let adminContact of adminForm.controls['adminContacts'].controls; let i = index" [formGroupName]="i">
                <ion-label> 
                  <ion-icon name="at" ></ion-icon> 
                </ion-label>
                <ion-input class="form-control" formControlName="adminContact" type="text" placeholder="Email  or Mobile"> 
                </ion-input>
                <button ion-button icon-only item-end  (click)="removeAdminContact(i)">
                  <ion-icon name="trash"></ion-icon>
                </button>                  
              </ion-item>
              <p ion-text *ngIf="!adminForm.valid && submitted" color="danger" padding-left>
                  No email or mobile entered!
                </p> 
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-lg-8 col-xl-8 offset-lg-2 offset-xl-2 texr-right>
                <button ion-fab color="primary" (click)="addAdminContact()"><ion-icon name="add"></ion-icon></button>
                
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-lg-8 col-xl-8 offset-lg-2 offset-xl-2>
                  <button ion-button  block color="secondary" (click)="save()"> Save</button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>

  </div>

</ion-content>
